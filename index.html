<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë—Ä–æ–∫–µ—Ä—Å–∫–∏–π –¢–µ—Å—Ç</title>
    <style>
        :root {
            --color-primary: #1d7480;
            --color-primary-hover: #175a62;
            --color-bg: #faf8f6;
            --color-surface: #ffffff;
            --color-text: #133435;
            --color-text-secondary: #626c71;
            --color-border: #d4d4d0;
            --color-success: #218d8d;
            --color-error: #c01530;
            --radius: 8px;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: var(--color-bg);
            color: var(--color-text);
            min-height: 100vh;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            margin: 0;
            font-size: 28px;
            color: var(--color-text);
            font-weight: 600;
        }

        .header p {
            margin: 8px 0 0 0;
            font-size: 14px;
            color: var(--color-text-secondary);
        }

        .card {
            background: var(--color-surface);
            border-radius: var(--radius);
            border: 1px solid var(--color-border);
            padding: 32px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 500;
            font-size: 14px;
            color: var(--color-text);
        }

        select, input {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--color-border);
            border-radius: var(--radius);
            font-size: 14px;
            font-family: inherit;
            color: var(--color-text);
            background: var(--color-surface);
            transition: border-color 0.2s;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(29, 116, 128, 0.1);
        }

        .question-block {
            margin-bottom: 32px;
        }

        .question-title {
            font-weight: 600;
            margin-bottom: 16px;
            font-size: 15px;
            color: var(--color-text);
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            padding: 12px;
            border: 1px solid var(--color-border);
            border-radius: var(--radius);
            cursor: pointer;
            transition: all 0.2s;
        }

        .radio-option:hover {
            background: rgba(29, 116, 128, 0.05);
            border-color: var(--color-primary);
        }

        .radio-option input[type="radio"] {
            width: auto;
            margin: 0 12px 0 0;
            cursor: pointer;
            accent-color: var(--color-primary);
        }

        .radio-option label {
            flex: 1;
            cursor: pointer;
            margin: 0;
            font-size: 14px;
        }

        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 32px;
        }

        .btn {
            flex: 1;
            padding: 14px 24px;
            border: none;
            border-radius: var(--radius);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: var(--color-primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--color-primary-hover);
        }

        .btn-primary:disabled {
            background: var(--color-text-secondary);
            opacity: 0.6;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: var(--color-border);
            color: var(--color-text);
        }

        .btn-secondary:hover {
            background: #d4d4d0;
        }

        .hidden {
            display: none;
        }

        .progress-bar {
            width: 100%;
            height: 4px;
            background: var(--color-border);
            border-radius: 2px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--color-primary);
            transition: width 0.3s ease;
        }

        .success-message {
            text-align: center;
            padding: 40px 20px;
        }

        .success-icon {
            font-size: 60px;
            margin-bottom: 20px;
        }

        .success-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 12px;
            color: var(--color-success);
        }

        .success-text {
            font-size: 16px;
            line-height: 1.6;
            color: var(--color-text-secondary);
            margin-bottom: 32px;
        }

        .info-box {
            background: rgba(29, 116, 128, 0.08);
            border-left: 4px solid var(--color-primary);
            padding: 16px;
            border-radius: 4px;
            margin-top: 20px;
            font-size: 14px;
            color: var(--color-text);
        }

        .step-indicator {
            text-align: center;
            color: var(--color-text-secondary);
            font-size: 13px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üî∑ –ë—Ä–æ–∫–µ—Ä—Å–∫–∏–π –¢–µ—Å—Ç</h1>
            <p>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≥—Ä—É–ø–ø</p>
        </div>

        <!-- STAGE 1: SELECT CLIENT -->
        <div id="stage-select" class="card">
            <div class="form-group">
                <label class="form-label">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à—É –ª–∏—á–Ω–æ—Å—Ç—å:</label>
                <select id="client-select" required>
                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞ --</option>
                </select>
            </div>
            <button class="btn btn-primary" onclick="startTest()">–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç</button>
        </div>

        <!-- STAGE 2: TEST QUESTIONS -->
        <div id="stage-test" class="card hidden">
            <div class="step-indicator" id="step-info"></div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>

            <div id="questions-container"></div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="previousQuestion()" id="btn-prev">‚Üê –ù–∞–∑–∞–¥</button>
                <button class="btn btn-primary" onclick="nextQuestion()" id="btn-next">–î–∞–ª–µ–µ ‚Üí</button>
            </div>
        </div>

        <!-- STAGE 3: RESULT -->
        <div id="stage-result" class="card hidden">
            <div class="success-message">
                <div class="success-icon">‚úì</div>
                <div class="success-title">–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à—ë–Ω</div>
                <div class="success-text">
                    –û–∂–∏–¥–∞–π—Ç–µ –∏–∑–≤–µ—â–µ–Ω–∏–π ‚Äî –æ—Ç—á–µ—Ç –±—É–¥–µ—Ç —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω —Ñ–∏–Ω –¥—Ä—É–∏–¥—É
                </div>
                <div class="info-box">
                    <strong>–í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ:</strong><br>
                    –ö–ª–∏–µ–Ω—Ç: <span id="result-client"></span><br>
                    –°—É–º–º–∞ –≤—ã–ø–ª–∞—Ç: <span id="result-amount"></span><br>
                    –í–æ–ø—Ä–æ—Å–æ–≤ –æ—Ç–≤–µ—Ç–ª–µ–Ω–æ: <span id="result-answered">5</span>/5
                </div>
                <button class="btn btn-primary" onclick="resetTest()" style="margin-top: 24px;">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
            </div>
        </div>
    </div>

    <script>
        // CLIENTS DATA
        const clients = [
            { name: "–ì–µ–Ω–Ω–∞–¥–∏–π –ö–æ—Ä—è–≥–∏–Ω", amount: "2 376 285 ‚ÇΩ" },
            { name: "–ù–µ–ª–ª–∏ –ó–≤–µ—Ä–µ–≤–∞", amount: "3 753 285 ‚ÇΩ" },
            { name: "–í–∞–ª–µ—Ä–∏–π –ì–æ–ª–∏–∫–æ–≤ (+ –ú–∞—Ä–∏—è –†–µ—É—Ç–æ–≤–∞)", amount: "7 736 934 ‚ÇΩ" },
            { name: "–ï–ª–µ–Ω–∞ –ò—à—É–∫–æ–≤–∞", amount: "3 275 265 ‚ÇΩ" },
            { name: "–ï–ª–µ–Ω–∞ –ú–∞–∫–∞—Ä–µ–Ω–∫–æ", amount: "2 276 286 ‚ÇΩ" },
            { name: "–ï–≤–≥–µ–Ω–∏–π –•—Ä–∞–º–µ–Ω–∫–æ–≤", amount: "7 286 386 ‚ÇΩ" },
            { name: "–ò–≥–æ—Ä—å –î—É–Ω–∞–µ–≤", amount: "3 264 275 ‚ÇΩ" },
            { name: "–ê–Ω–¥—Ä–µ–π –í–∞—Å–∏–ª—å–µ–≤", amount: "3 265 998 ‚ÇΩ" },
            { name: "–¢–∞—Ç—å—è–Ω–∞ –°—ã—á—ë–≤–∞", amount: "~75 000 ‚ÇΩ" }
        ];

        // TEST QUESTIONS
        const questions = [
            {
                title: "–ö–∞–∫–æ–≤–∞ –≤–∞—à–∞ –æ—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è?",
                options: ["–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π —Ä–æ—Å—Ç –∫–∞–ø–∏—Ç–∞–ª–∞", "–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –¥–æ—Ö–æ–¥–∞", "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤", "–°–ø–µ–∫—É–ª—è—Ü–∏—è", "–î—Ä—É–≥–æ–µ"]
            },
            {
                title: "–ö–∞–∫–æ–π —Å—Ä–æ–∫ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –≤–ª–æ–∂–∏—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞?",
                options: ["–î–æ 1 –≥–æ–¥–∞", "1-3 –≥–æ–¥–∞", "3-5 –ª–µ—Ç", "–ë–æ–ª–µ–µ 5 –ª–µ—Ç", "–ù–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω"]
            },
            {
                title: "–í–∞—à —É—Ä–æ–≤–µ–Ω—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç–∏?",
                options: ["–ù–∞—á–∏–Ω–∞—é—â–∏–π", "–°—Ä–µ–¥–Ω–µ–µ", "–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π", "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π", "–≠–∫—Å–ø–µ—Ä—Ç"]
            },
            {
                title: "–ö–∞–∫–æ–π —Ä–∏—Å–∫ –≥–æ—Ç–æ–≤—ã –ø—Ä–∏–Ω—è—Ç—å?",
                options: ["–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π", "–ù–∏–∑–∫–∏–π", "–°—Ä–µ–¥–Ω–∏–π", "–í—ã—Å–æ–∫–∏–π", "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π"]
            },
            {
                title: "–ö–∞–∫ —á–∞—Å—Ç–æ –≤—ã –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç–µ —Å–≤–æ–∏ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏?",
                options: ["–ï–∂–µ–¥–Ω–µ–≤–Ω–æ", "–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ", "–ï–∂–µ–º–µ—Å—è—á–Ω–æ", "–ï–∂–µ–∫–≤–∞—Ä—Ç–∞–ª—å–Ω–æ", "–†–µ–¥–∫–æ"]
            }
        ];

        let currentQuestion = 0;
        let selectedClient = null;
        let answers = [];

        // INIT
        window.addEventListener('DOMContentLoaded', () => {
            const select = document.getElementById('client-select');
            clients.forEach((client, idx) => {
                const option = document.createElement('option');
                option.value = idx;
                option.textContent = `${client.name} ‚Äî ${client.amount}`;
                select.appendChild(option);
            });
        });

        // START TEST
        function startTest() {
            const select = document.getElementById('client-select');
            if (!select.value) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞');
                return;
            }

            selectedClient = parseInt(select.value);
            answers = new Array(questions.length).fill(null);
            currentQuestion = 0;

            document.getElementById('stage-select').classList.add('hidden');
            document.getElementById('stage-test').classList.remove('hidden');

            renderQuestion();
        }

        // RENDER QUESTION
        function renderQuestion() {
            const container = document.getElementById('questions-container');
            const q = questions[currentQuestion];

            let html = `
                <div class="question-block">
                    <div class="question-title">–í–æ–ø—Ä–æ—Å ${currentQuestion + 1}: ${q.title}</div>
                    <div class="radio-group">
            `;

            q.options.forEach((opt, idx) => {
                const optionId = `option-${currentQuestion}-${idx}`;
                const isChecked = answers[currentQuestion] === idx ? 'checked' : '';
                html += `
                    <label class="radio-option">
                        <input type="radio" name="question-${currentQuestion}" value="${idx}" ${isChecked} id="${optionId}">
                        <label for="${optionId}" style="margin: 0; cursor: pointer;">${opt}</label>
                    </label>
                `;
            });

            html += `
                    </div>
                </div>
            `;

            container.innerHTML = html;

            // UPDATE PROGRESS
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progress-fill').style.width = progress + '%';
            document.getElementById('step-info').textContent = `–í–æ–ø—Ä–æ—Å ${currentQuestion + 1} –∏–∑ ${questions.length}`;

            // UPDATE BUTTONS
            document.getElementById('btn-prev').disabled = currentQuestion === 0;
            document.getElementById('btn-next').textContent = currentQuestion === questions.length - 1 ? '–ó–∞–≤–µ—Ä—à–∏—Ç—å ‚úì' : '–î–∞–ª–µ–µ ‚Üí';
        }

        // NEXT QUESTION
        function nextQuestion() {
            const selected = document.querySelector(`input[name="question-${currentQuestion}"]:checked`);
            if (!selected) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç–≤–µ—Ç–∞');
                return;
            }

            answers[currentQuestion] = parseInt(selected.value);

            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                renderQuestion();
            } else {
                showResult();
            }
        }

        // PREVIOUS QUESTION
        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                renderQuestion();
            }
        }

        // SHOW RESULT
        function showResult() {
            document.getElementById('stage-test').classList.add('hidden');
            document.getElementById('stage-result').classList.remove('hidden');

            const client = clients[selectedClient];
            document.getElementById('result-client').textContent = client.name;
            document.getElementById('result-amount').textContent = client.amount;
        }

        // RESET TEST
        function resetTest() {
            currentQuestion = 0;
            selectedClient = null;
            answers = [];

            document.getElementById('stage-result').classList.add('hidden');
            document.getElementById('stage-select').classList.remove('hidden');
            document.getElementById('client-select').value = '';
        }
    </script>
</body>
</html>
